package src.mathtest;

/**
 * Alice å’? Bob å†æ¬¡è®¾è®¡äº†ä¸€æ¬¾æ–°çš„çŸ³å­æ¸¸æˆã?‚ç°æœ‰ä¸€è¡? n ä¸ªçŸ³å­ï¼Œæ¯ä¸ªçŸ³å­éƒ½æœ‰ä¸?ä¸ªå…³è”çš„æ•°å­—è¡¨ç¤ºå®ƒçš„ä»·å?¼ã??
 * ç»™ä½ ä¸?ä¸ªæ•´æ•°æ•°ç»? stones ï¼Œå…¶ä¸? stones[i] æ˜¯ç¬¬ i ä¸ªçŸ³å­çš„ä»·å?¼ã??
 * Alice å’? Bob è½®æµè¿›è¡Œè‡ªå·±çš„å›åˆï¼ŒAlice å…ˆæ‰‹ã€‚æ¯ä¸?å›åˆï¼Œç©å®¶éœ€è¦ä» stonesÂ ä¸­ç§»é™¤ä»»ä¸?çŸ³å­ã€?
 * å¦‚æœç©å®¶ç§»é™¤çŸ³å­åï¼Œå¯¼è‡´ æ‰?æœ‰å·²ç§»é™¤çŸ³å­ çš„ä»·å€¼Â æ?»å’Œ å¯ä»¥è¢? 3 æ•´é™¤ï¼Œé‚£ä¹ˆè¯¥ç©å®¶å°? è¾“æ‰æ¸¸æˆ ã€?
 * å¦‚æœä¸æ»¡è¶³ä¸Šä¸?æ¡ï¼Œä¸”ç§»é™¤åæ²¡æœ‰ä»»ä½•å‰©ä½™çš„çŸ³å­ï¼Œé‚£ä¹ˆ Bob å°†ä¼šç›´æ¥è·èƒœï¼ˆå³ä¾¿æ˜¯åœ? Alice çš„å›åˆï¼‰ã€?
 * å‡è®¾ä¸¤ä½ç©å®¶å‡é‡‡ç”¨Â æœ€ä½? å†³ç­–ã€‚å¦‚æ? Alice è·èƒœï¼Œè¿”å›? true ï¼›å¦‚æ? Bob è·èƒœï¼Œè¿”å›? false ã€?
 * @author Dreihunde
 *
 */
public class StoneGame {
	//method 1 æ¨¡æ‹Ÿ O(n) O(1)
    public boolean stoneGameIX1(int[] stones) {
        //ä½™æ•°ä¸?0çš„çŸ³å­ï¼Œä½™æ•°ä¸?1çš„çŸ³å­å’Œä½™æ•°ä¸?2çš„çŸ³å­?
        int cnt0 = 0, cnt1 = 0, cnt2 = 0;
        for (int val : stones) {
            int type = val % 3;
            if (type == 0) {
                ++cnt0;
            } else if (type == 1) {
                ++cnt1;
            } else {
                ++cnt2;
            }
        }
        //ä¸è?ƒè™‘çŸ³å¤´ä¸­æœ‰3çš„å?æ•°ä¸ªçš„çŸ³å¤´çš„è¯ï¼ŒAå…ˆæ‰‹åªæœ‰ä¸¤ç§æƒ…å†µ:
        //å…ˆæ‹¿1ï¼? Bè‹¥è¦ä¸å¤±è´¥ï¼Œåˆ™åªèƒ½æ‹¿1ï¼Œç„¶åAåªèƒ½æ‹?2ï¼ŒBåªèƒ½æ‹?1ï¼ŒAç»§ç»­åªèƒ½æ‹?2ï¼Œå¦‚æ­¤A2B1å¾ªç¯ï¼Œç›´åˆ°æœ‰ä¸?ç§çŸ³å­æ²¡æœ‰ï¼Œæ­¤æ—¶æ ¹æ®å‰©çš„çŸ³å­åˆ¤æ–­è·èƒœæ–?: å‰?2æ—¶ï¼ŒAèƒœåˆ©
        //å…ˆæ‹¿2ï¼? Bè‹¥è¦ä¸å¤±è´¥ï¼Œåˆ™åªèƒ½æ‹¿2ï¼Œç„¶åAåªèƒ½æ‹?1ï¼ŒBåªèƒ½æ‹?2ï¼ŒAç»§ç»­åªèƒ½æ‹?1ï¼Œå¦‚æ­¤A1B2å¾ªç¯ï¼Œç›´åˆ°æœ‰ä¸?ç§çŸ³å­æ²¡æœ‰ï¼Œæ­¤æ—¶æ ¹æ®å‰©çš„çŸ³å­åˆ¤æ–­è·èƒœæ–?: å‰?1æ—¶ï¼ŒAèƒœåˆ©
        //å› æ­¤ï¼Œæ­¤æ—¶è‹¥1å’?2çš„æ•°é‡å‡ä¸å°‘äº?1ï¼ŒAåªè¦é€‰æ‹©æ•°é‡å°‘çš„é‚£ç§çŸ³å­å³å¯ã€‚Aå¿…èƒœ
        //è€Œå¦‚æ?1æˆ–è??2æœ‰ä¸€æ–¹çš„æ•°é‡ä¸?0ï¼Œåˆ™Aå¿…è´¥ï¼Œå› ä¸ºAç¬¬äºŒæ¬¡é?‰æ‹©æ—¶åªèƒ½æ‹¿å’ŒBåˆšæ‰é€‰æ‹©çš„çŸ³å¤´ç›¸åŒçš„çŸ³å¤´
        if (cnt0 % 2 == 0) {
            return cnt1 >= 1 && cnt2 >= 1;
        }
        //å½“è?ƒè™‘æœ‰æ•°é‡ä¸º3çš„å?æ•°çš„çŸ³å¤´æ—¶ï¼Œç›¸å½“äºå¤šäº†æ¢æ‰‹æœºä¼š
        //å¦‚æœçŸ³å¤´æ•°é‡ä¸ºå¶æ•°ï¼Œåˆ™æ²¡æœ‰å½±å“?(æ€»èƒ½è½¬å›åˆ°æ²¡æœ‰æ•°é‡ä¸º3çš„å?æ•°çš„çŸ³å¤´çš„æƒ…å†µ)
        //è‹¥çŸ³å¤´æ•°é‡ä¸ºå¥‡æ•°ï¼Œåˆ™å¯ä»¥è®¤ä¸ºæ˜¯Aå’ŒBæ›´æ¢äº†å…ˆåæ‰‹é¡ºåº
        //åˆ™æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘Açš„å¿…èƒœç­–ç•¥ä¸ºæ‹¿å…‰ä¸?ç§çŸ³å­ï¼Œç„¶åé€¼è¿«Båªèƒ½é€‰æ‹©å’Œè‡ªå·±ä¹‹å‰çš„å¿…è´¥ç­–ç•¥åŒæ ·çš„è¡Œä¸?(1æˆ–è??2æœ‰ä¸€æ–¹çš„æ•°é‡ä¸?0,ç„¶åBä¸¤æ¬¡é€‰æ‹©åŒæ ·çš„çŸ³å¤?)
        //è€Œè‹¥ä¸¤ç§çŸ³å­çš„æ•°é‡å·®ä¸è¶…è¿?2ï¼Œåˆ™Aå¿…è´¥(Bå¿…èƒœ): Bè½¬ä¸ºäº†å…ˆæ‰‹ï¼Œè€ŒAæ— æ³•æ‹¿æˆåªå‰©ä¸?1æˆ–è?…åªå‰©ä¸‹2çš„æƒ…å½¢ï¼ŒBæ€»æ˜¯å¯ä»¥é€šè¿‡æ‹¿æ•°é‡å°‘çš„é‚£ç§çŸ³å­è·å¾—èƒœåˆ?
        return cnt1 - cnt2 > 2 || cnt2 - cnt1 > 2;
    }

    //method 2 mathç»Ÿè®¡ä½™æ•°ä¸?0, 1, 2çš„æ£‹å­ä¸ªæ•? O(n) O(1)
    public boolean stoneGameIX2(int[] stones) {
        int[] cnts = new int[3];
        for (int i : stones) cnts[i % 3]++;
        return cnts[0] % 2 == 0 ? !(cnts[1] == 0 || cnts[2] == 0) : !(Math.abs(cnts[1] - cnts[2]) <= 2);
    }

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		int[] stones = new int[] {5,1,2,4,3};
		StoneGame sg = new StoneGame();
		System.out.println(sg.stoneGameIX1(stones));
		System.out.println(sg.stoneGameIX2(stones));

	}

}
